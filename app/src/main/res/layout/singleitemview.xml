<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/white"
    android:padding="24dp">

    <!-- Header -->
    <TextView
        android:id="@+id/tvBrand"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:text="LankaSmartMart"
        android:textColor="@color/brand_green"
        android:textSize="20sp"
        android:textStyle="bold"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <FrameLayout
        android:id="@+id/cartContainer"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginEnd="16dp"
        app:layout_constraintBottom_toBottomOf="@+id/tvBrand"
        app:layout_constraintEnd_toStartOf="@+id/ivBell"
        app:layout_constraintTop_toTopOf="@+id/tvBrand">

        <ImageView
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_cart"
            app:tint="@color/black" />

        <View
            android:layout_width="16dp"
            android:layout_height="16dp"
            android:layout_gravity="end|top"
            android:background="@drawable/white_circle_bg"
            android:backgroundTint="@color/notification_badge"
            android:elevation="2dp" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="end|top"
            android:elevation="2dp"
            android:text="2"
            android:textColor="@color/white"
            android:textSize="10sp"
            android:textStyle="bold"
            android:layout_marginEnd="5dp"
            android:layout_marginTop="1dp"/>
    </FrameLayout>

    <ImageView
        android:id="@+id/ivBell"
        android:layout_width="24dp"
        android:layout_height="24dp"
        android:src="@drawable/ic_bell"
        app:layout_constraintBottom_toBottomOf="@+id/tvBrand"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="@+id/tvBrand"
        app:tint="@color/black" />

    <!-- Scrollable Detail Content -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_marginTop="16dp"
        android:layout_marginBottom="16dp"
        android:scrollbars="none"
        app:layout_constraintBottom_toTopOf="@+id/bottomNav"
        app:layout_constraintTop_toBottomOf="@+id/tvBrand">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="24dp">

            <ImageView
                android:id="@+id/imgProduct"
                android:layout_width="250dp"
                android:layout_height="250dp"
                android:layout_marginTop="24dp"
                android:src="@drawable/img_1" 
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />
                <!-- Placeholder img_1 -->

            <TextView
                android:id="@+id/tvProductTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="24dp"
                android:text="Orange Fruit"
                android:textColor="@color/black"
                android:textSize="22sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/imgProduct" />

            <!-- Rating Section -->
            <LinearLayout
                android:id="@+id/ratingLayout"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:gravity="center_vertical"
                android:orientation="horizontal"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tvProductTitle">

                <ImageView
                    android:layout_width="16dp"
                    android:layout_height="16dp"
                    android:src="@drawable/ic_star_filled"
                    app:tint="@color/black" />

                <ImageView
                    android:layout_width="16dp"
                    android:layout_height="16dp"
                    android:layout_marginStart="2dp"
                    android:src="@drawable/ic_star_filled"
                    app:tint="@color/black" />

                <ImageView
                    android:layout_width="16dp"
                    android:layout_height="16dp"
                    android:layout_marginStart="2dp"
                    android:src="@drawable/ic_star_filled"
                    app:tint="@color/black" />

                <ImageView
                    android:layout_width="16dp"
                    android:layout_height="16dp"
                    android:layout_marginStart="2dp"
                    android:src="@drawable/ic_star_filled"
                    app:tint="@color/black" />
                
                <ImageView
                    android:layout_width="16dp"
                    android:layout_height="16dp"
                    android:layout_marginStart="2dp"
                    android:src="@drawable/ic_star_filled" 
                    app:tint="@color/black" />
                    <!-- Assuming 4.4 rounds to visual 4.5 or 5 for simplicity or use half star later -->

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="8dp"
                    android:text="(4.4)"
                    android:textColor="@color/text_secondary"
                    android:textSize="12sp" />
            </LinearLayout>

            <!-- Quantity Selector -->
            <LinearLayout
                android:id="@+id/quantityLayout"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="center_vertical"
                android:orientation="horizontal"
                app:layout_constraintBottom_toBottomOf="@+id/ratingLayout"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="@+id/ratingLayout">

                <FrameLayout
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:background="@drawable/bg_quantity_minus">
                    <ImageView
                        android:layout_width="16dp"
                        android:layout_height="16dp"
                        android:layout_gravity="center"
                        android:src="@drawable/ic_minus"
                        app:tint="@color/black"/>
                </FrameLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="16dp"
                    android:text="1"
                    android:textColor="@color/black"
                    android:textSize="16sp"
                    android:textStyle="bold" />

                <FrameLayout
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:background="@drawable/bg_quantity_plus">
                    <ImageView
                        android:layout_width="16dp"
                        android:layout_height="16dp"
                        android:layout_gravity="center"
                        android:src="@drawable/ic_plus"
                        app:tint="@color/white"/>
                </FrameLayout>
            </LinearLayout>

            <TextView
                android:id="@+id/tvDescriptionTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="24dp"
                android:text="Decription"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/ratingLayout" />

            <TextView
                android:id="@+id/tvDescription"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:text="The orange is the fruit of various citrus species in the family Rutaceae primarily refers to sinensis, which is also called sweet orange,"
                android:textColor="@color/text_secondary"
                android:textSize="14sp"
                android:lineSpacingExtra="4dp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tvDescriptionTitle" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" More..."
                android:textColor="@color/brand_green" 
                android:textSize="14sp"
                android:textStyle="bold"
                app:layout_constraintStart_toEndOf="@+id/tvDescription"
                app:layout_constraintTop_toBottomOf="@+id/tvDescription" 
                app:layout_constraintBottom_toBottomOf="@+id/tvDescription"
                app:layout_constraintHorizontal_bias="0"
                app:layout_constraintStart_toStartOf="parent"
                android:translationY="-20dp"
                android:translationX="50dp"/> 
                <!-- Positioning simplification -->

            <!-- Nutrition Info Placeholders -->
             <LinearLayout
                android:id="@+id/nutritionLayout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:layout_marginTop="24dp"
                android:weightSum="4"
                android:background="@drawable/bg_search_bar" 
                android:padding="8dp"
                app:layout_constraintTop_toBottomOf="@+id/tvDescription">
                <!-- Using search bar bg as a light container/border mock -->
                
                <!-- Mock content for nutrition cards -->
                 <View
                    android:layout_width="0dp"
                    android:layout_height="50dp"
                    android:layout_weight="1"
                     />
                 <View
                    android:layout_width="1dp"
                    android:layout_height="match_parent"
                    android:background="#E0E0E0"/>
                 <View
                    android:layout_width="0dp"
                    android:layout_height="50dp"
                    android:layout_weight="1"
                     />
                 <View
                    android:layout_width="1dp"
                    android:layout_height="match_parent"
                    android:background="#E0E0E0"/>
                 <View
                     android:layout_width="0dp"
                     android:layout_height="50dp"
                    android:layout_weight="1"
                    />
                 <View
                     android:layout_width="1dp"
                     android:layout_height="match_parent"
                     android:background="#E0E0E0"/>
                 <View
                     android:layout_width="0dp"
                     android:layout_height="50dp"
                    android:layout_weight="1"
                     />
             </LinearLayout>
             
             <!-- Highlight Dot mock -->
             <View
                android:layout_width="24dp"
                android:layout_height="24dp"
                android:background="@drawable/white_circle_bg"
                android:backgroundTint="#FFE0B2"
                app:layout_constraintBottom_toBottomOf="@+id/nutritionLayout"
                app:layout_constraintEnd_toEndOf="@+id/nutritionLayout"
                app:layout_constraintStart_toStartOf="@+id/nutritionLayout"
                app:layout_constraintTop_toTopOf="@+id/nutritionLayout"/>
             <View
                android:layout_width="12dp"
                android:layout_height="12dp"
                android:background="@drawable/white_circle_bg"
                android:backgroundTint="#FF9800"
                app:layout_constraintBottom_toBottomOf="@+id/nutritionLayout"
                app:layout_constraintEnd_toEndOf="@+id/nutritionLayout"
                app:layout_constraintStart_toStartOf="@+id/nutritionLayout"
                app:layout_constraintTop_toTopOf="@+id/nutritionLayout"/>


            <!-- Footer Price and Add to Cart inside Scroll or below? 
                 Design shows at bottom, but scrollview suggests it might float. 
                 I'll put it here inside layout for simplicity but maybe distinct section.
                 Actually better outside scrollview if sticky, but for now inside as per typical flow unless specified sticky.
                 Wait, screenshot shows lots of whitespace at bottom, likely simple linear flow.
            -->
            
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="32dp"
                android:gravity="center_vertical"
                android:orientation="horizontal"
                app:layout_constraintTop_toBottomOf="@+id/nutritionLayout"
                app:layout_constraintBottom_toBottomOf="parent">

                <TextView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="RS14.99"
                    android:textColor="@color/black"
                    android:textSize="24sp"
                    android:textStyle="bold" />

                <androidx.appcompat.widget.AppCompatButton
                    android:layout_width="160dp"
                    android:layout_height="wrap_content"
                    android:background="@drawable/bg_add_to_cart"
                    android:text="Add to cart"
                    android:textAllCaps="false"
                    android:textColor="@color/white"
                    android:textStyle="bold" />
            </LinearLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>
    </ScrollView>

    <!-- Bottom Nav Mock -->
    <LinearLayout
        android:id="@+id/bottomNav"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:background="@color/white"
        android:paddingBottom="16dp"
        app:layout_constraintBottom_toBottomOf="parent">

        <ImageView
            android:layout_width="0dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_home"
            android:layout_weight="1"
            app:tint="@color/black" />

        <FrameLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="0">
            <ImageView
                android:layout_width="56dp"
                android:layout_height="56dp"
                android:src="@drawable/circle_green" />
            <ImageView
                android:layout_width="24dp"
                android:layout_height="24dp"
                android:layout_gravity="center"
                android:src="@drawable/ic_grid"
                app:tint="@color/white" />
        </FrameLayout>

        <ImageView
            android:layout_width="0dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_bag"
            android:layout_weight="1"
            app:tint="@color/black" />

        <ImageView
            android:layout_width="0dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_menu"
            android:layout_weight="1"
            app:tint="@color/black" />

    </LinearLayout>

</androidx.constraintlayout.widget.ConstraintLayout>